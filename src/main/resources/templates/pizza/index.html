<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <th:block th:replace="~{fragments/generals :: resources}"></th:block>
    <title>Document</title>
</head>
<body>
<nav th:replace="~{fragments/generals :: navbar('pizza')}"></nav>
<div class="container">

    <div class="row">
        <div class="col">
            <a sec:authorize="hasAuthority('ADMIN')" href="/pizza/create" width="50px" height="50px"><i
                    class="fa-solid fa-plus"></i></a>
            <h1>Menu:</h1>

            <div th:if="${pizzas.size() == 0}">
                <p>No pizza founded</p>
            </div>
            <table class="table" th:if="${pizzas.size() > 0}">
                <thead>

                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">name</th>
                    <th scope="col">price</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="pizza : ${pizzas}">
                    <th scope="row" th:text="${pizza.id}"></th>
                    <td th:text="${pizza.name}"></td>
                    <td th:text="|${pizza.price}â‚¬|"></td>
                    <td>
                        <a th:href="@{|/pizza/${pizza.id}|}">go</a>
                        <a sec:authorize="hasAuthority('ADMIN')" th:href="@{|/pizza/update/${pizza.id}|}">edit</a>
                        <a sec:authorize="hasAuthority('ADMIN')" th:href="@{|/pizza/delete/${pizza.id}|}">delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>